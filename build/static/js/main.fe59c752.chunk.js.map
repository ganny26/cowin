{"version":3,"sources":["App.js","index.js"],"names":["Session","props","style","display","alignItems","className","class","vaccine","min_age_limit","available_capacity_dose1","available_capacity_dose2","getCurrentDate","todaysDate","Date","month","toLocaleDateString","getDate","getFullYear","App","React","useState","loading","setLoading","hdata","setData","districtList","name","id","useEffect","fetchHospitalDetails","a","districtId","date","apiUrl","axios","get","result","data","centers","Promise","all","map","item","console","log","data1","length","apolloList","filter","toLowerCase","includes","fetchAllHospitalDetails","scope","address","sessions","ctx","rootElement","document","getElementById","ReactDOM","render"],"mappings":"6OAIMA,EAAU,SAACC,GACf,OACE,sBAAKC,MAAO,CAAEC,QAAS,OAAQC,WAAY,UAA3C,UACE,qBAAKC,UAAU,OAAf,SACE,sBAAMC,MAAM,gCAAZ,SAA6CL,EAAMM,YAErD,sBAAKF,UAAU,OAAf,UAAuBJ,EAAMO,cAA7B,YAEA,sBAAKH,UAAU,OAAf,oBAA8BJ,EAAMQ,4BACpC,sBAAKJ,UAAU,OAAf,oBAA8BJ,EAAMS,gCAIpCC,EAAiB,WACrB,IAAIC,EAAa,IAAIC,KACjBC,EAAQF,EAAWG,mBAAmB,QAAS,CAEjDD,MAAO,YAET,MAAM,GAAN,OAAUF,EAAWI,UAArB,YAAkCF,EAAlC,YAA2CF,EAAWK,gBAIzC,SAASC,IACtB,MAA4BC,IAAMC,UAAS,GAA3C,mBAAKC,EAAL,KAAcC,EAAd,KACA,EAAuBH,IAAMC,SAAS,IAAtC,mBAAKG,EAAL,KAAYC,EAAZ,KACIC,EAAe,CACjB,CACEC,KAAM,UACNC,GAAI,OAEN,CACED,KAAM,aACNC,GAAI,OAEN,CACED,KAAM,cACNC,GAAI,QA2BR,OAvBAR,IAAMS,WAAU,WACd,IAAIC,EAAoB,uCAAG,WAAOF,GAAP,iBAAAG,EAAA,6DArBRC,EAsBUJ,EAtBEK,EAsBErB,IAA3BsB,EAtBY,sGAC2EF,EAD3E,iBAC8FC,GAoBrF,SAGNE,IAAMC,IAAIF,GAHJ,cAGrBG,EAHqB,yBAIlBA,EAAOC,KAAKC,SAJM,iCArBT,IAACP,EAAYC,IAqBJ,OAAH,uDAOG,uCAAG,gCAAAF,EAAA,sEACTS,QAAQC,IAAIf,EAAagB,KAAI,SAACC,GAAD,OAAUb,EAAqBa,EAAKf,QADxD,OACxBS,EADwB,OAE5BO,QAAQC,IAAIR,EAAO,IACfS,EAHwB,sBAGZT,EAAO,IAHK,YAGEA,EAAO,IAHT,YAGgBA,EAAO,KACnDO,QAAQC,IAAI,QAASC,EAAMC,QAEvBC,EAAaF,EAAMG,QAAO,SAACN,GAAD,OAAUA,EAAKhB,KAAKuB,cAAcC,SAAS,aACzEP,QAAQC,IAAI,aAAcG,GAC1BvB,EAAQuB,GARoB,2CAAH,qDAW3BI,GACA7B,GAAW,KACV,IAGD,qBAAKjB,UAAU,YAAf,SACE,qBAAKA,UAAU,MAAf,SACGgB,EACC,6DAEA,sBAAKhB,UAAU,YAAf,UACE,kDAEA,wBAAOC,MAAM,QAAb,UACE,gCACE,+BACE,oBAAI8C,MAAM,MAAV,2BACA,oBAAIA,MAAM,MAAV,qBACA,oBAAIA,MAAM,MAAV,0BAGJ,gCACG7B,EAAMkB,KAAI,SAACC,GAAD,OACT,+BACE,6BAAKA,EAAKhB,OACV,6BAAKgB,EAAKW,UACV,6BACGX,EAAKY,SAASb,KAAI,SAACc,GAAD,OACjB,cAAC,EAAD,eAAaA,oBAOzB,8BC9FZ,IAAMC,EAAcC,SAASC,eAAe,QAC5CC,IAASC,OACP,cAAC,aAAD,UACE,cAAC1C,EAAD,MAEFsC,K","file":"static/js/main.fe59c752.chunk.js","sourcesContent":["import axios from 'axios';\nimport React from 'react';\nimport './styles.css';\n\nconst Session = (props) => {\n  return (\n    <div style={{ display: 'flex', alignItems: 'center' }}>\n      <div className=\"ms-2\">\n        <span class=\"badge rounded-pill bg-primary\">{props.vaccine}</span>\n      </div>\n      <div className=\"ms-2\">{props.min_age_limit} years</div>\n      {/* <div className=\"ms-2\">Available: {props.available_capacity}</div> */}\n      <div className=\"ms-2\">Dose1: {props.available_capacity_dose1}</div>\n      <div className=\"ms-2\">Dose2: {props.available_capacity_dose2}</div>\n    </div>\n  );\n};\nconst getCurrentDate = () => {\n  let todaysDate = new Date();\n  var month = todaysDate.toLocaleDateString('en-US', {\n    // you can use undefined as first argument\n    month: '2-digit',\n  });\n  return `${todaysDate.getDate()}-${month}-${todaysDate.getFullYear()}`;\n};\nconst COWIN_API_URL = (districtId, date) =>\n  `https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=${districtId}&date=${date}`;\nexport default function App() {\n  let [loading, setLoading] = React.useState(true);\n  let [hdata, setData] = React.useState([]);\n  let districtList = [\n    {\n      name: 'chennai',\n      id: '571',\n    },\n    {\n      name: 'tiruvallur',\n      id: '572',\n    },\n    {\n      name: 'kanchipuram',\n      id: '557',\n    },\n  ];\n\n  React.useEffect(() => {\n    let fetchHospitalDetails = async (id) => {\n      let apiUrl = COWIN_API_URL(id, getCurrentDate());\n      //console.log('apiUrl', apiUrl);\n      let result = await axios.get(apiUrl);\n      return result.data.centers;\n    };\n\n    let fetchAllHospitalDetails = async () => {\n      let result = await Promise.all(districtList.map((item) => fetchHospitalDetails(item.id)));\n      console.log(result[0]);\n      let data1 = [...result[0], ...result[1], ...result[2]];\n      console.log('data1', data1.length);\n\n      let apolloList = data1.filter((item) => item.name.toLowerCase().includes('apollo'));\n      console.log('apolloList', apolloList);\n      setData(apolloList);\n    };\n\n    fetchAllHospitalDetails();\n    setLoading(false);\n  }, []);\n\n  return (\n    <div className=\"container\">\n      <div className=\"App\">\n        {loading ? (\n          <h2>Loading Hospital details...</h2>\n        ) : (\n          <div className=\"container\">\n            <h2>Hospital Details</h2>\n\n            <table class=\"table\">\n              <thead>\n                <tr>\n                  <th scope=\"col\">Hospital Name</th>\n                  <th scope=\"col\">Address</th>\n                  <th scope=\"col\">Session</th>\n                </tr>\n              </thead>\n              <tbody>\n                {hdata.map((item) => (\n                  <tr>\n                    <td>{item.name}</td>\n                    <td>{item.address}</td>\n                    <td>\n                      {item.sessions.map((ctx) => (\n                        <Session {...ctx} />\n                      ))}\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n            <ul></ul>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}